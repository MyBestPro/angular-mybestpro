angular.module("MyBestPro",["indexedDB"]);var MyBestPro;!function(t){"use strict"}(MyBestPro||(MyBestPro={}));var MyBestPro;!function(t){var i;!function(t){"use strict";var i=function(){function t(){this.LOG_INACTIVE=-1,this.LOG_ERROR=0,this.LOG_WARNING=1,this.LOG_INFO=2,this.LOG_LOG=3,this.LOG_DEBUG=4,this.level=3,this.displayMode=!0,this.messages=[],this.consoles={0:console.error,1:console.warn,2:console.info,3:console.log,4:console.debug},this.levels={0:"error",1:"warning",2:"info",3:"log",4:"debug"}}return t.prototype.$get=function(){return{LOG_INACTIVE:this.LOG_INACTIVE,LOG_ERROR:this.LOG_ERROR,LOG_WARNING:this.LOG_WARNING,LOG_INFO:this.LOG_INFO,LOG_LOG:this.LOG_LOG,LOG_DEBUG:this.LOG_DEBUG,level:this.level,levels:this.levels,consoles:this.consoles,messages:this.messages,callbackReceivedLog:this.callbackReceivedLog,callbackChangeStatus:this.callbackChangeStatus,debug:this.debug,info:this.info,error:this.error,warn:this.warn,log:this.log,time:this.time,timeEnd:this.timeEnd,message:this.message,displayMode:this.displayMode,setDisplayMode:this.setDisplayMode,onReceivedLog:this.onReceivedLog,onChangeStatus:this.onChangeStatus,getHistory:this.getHistory,getDisplayMode:this.getDisplayMode}},t.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_DEBUG,arguments)},t.prototype.info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_INFO,arguments)},t.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_ERROR,arguments)},t.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_LOG,arguments)},t.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_WARNING,arguments)},t.prototype.setLevel=function(t){this.level=t},t.prototype.setDisplayMode=function(t){this.displayMode=t,this.callbackChangeStatus&&this.callbackChangeStatus.apply(this,[t])},t.prototype.getDisplayMode=function(){return this.displayMode},t.prototype.time=function(t,i){void 0===i&&(i=this.LOG_DEBUG),i>this.level||console.time(t)},t.prototype.timeEnd=function(t,i){void 0===i&&(i=this.LOG_DEBUG),i>this.level||console.timeEnd(t)},t.prototype.onReceivedLog=function(t){this.callbackReceivedLog=t},t.prototype.onChangeStatus=function(t){this.callbackChangeStatus=t},t.prototype.getHistory=function(){return this.messages},t.prototype.message=function(t,i){t>this.level||(this.messages.push({level:this.levels[t],data:i}),this.consoles[t].apply(console,i),this.callbackReceivedLog&&this.callbackReceivedLog.apply(this,[this.levels[t],i]))},t.$inject=[],t}();t.Log=i}(i=t.lib||(t.lib={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").provider("MBPLog",MyBestPro.lib.Log);var MyBestPro;!function(t){var i;!function(t){"use strict";var i=function(){function t(t,i){this.$indexedDBProvider=t,this.log=i,this.tables={},this.databaseName="",this.databaseVersion=0,this.logPrefix="MBPIndexedDB: ",this.$get=["$indexedDB",function(t){return t}]}return t.prototype.traceDebug=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.log.debug(this.logPrefix+t),arguments.length&&this.log.debug(arguments)},t.prototype.traceInfo=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.log.info(this.logPrefix+t),arguments.length&&this.log.info(arguments)},t.prototype.addTable=function(t,i){return this.tables[t]=i,this.traceDebug("Add table "+t+" with configuration",i),this},t.prototype.setDB=function(t,i){return this.databaseName=t,this.databaseVersion=i,this.traceDebug("Set DB with "+t+" version "+i),this},t.prototype.upgradeDatabase=function(t,i){t.traceInfo("Start droping database "+t.databaseName+" ..."),t.traceDebug("Tables to drop - ",i.objectStoreNames),angular.forEach(i.objectStoreNames,function(o){t.traceInfo("Delete table "+o),i.deleteObjectStore(o)}),t.traceInfo("Start creating database "+t.databaseName+" ..."),t.traceDebug("Tables to generate - ",t.tables),angular.forEach(t.tables,function(o,e){t.upgradeTable(i,o,e)})},t.prototype.upgradeTable=function(t,i,o){var e=this,n={keyPath:i.keyPath};e.traceInfo("Start upgrading table "+o),e.traceDebug("Table configuration - ",i);var r=t.createObjectStore(o,n);angular.forEach(i.columns,function(t,i){e.traceInfo("Start indexing table column "+o+"."+i),e.traceDebug("Column indexing configuration - ",t),r.createIndex(i+"_idx",i,t)})},t.prototype.initDatabase=function(){var t=this;t.$indexedDBProvider.connection(t.databaseName).upgradeDatabase(this.databaseVersion,function(i,o,e){t.upgradeDatabase(t,o)})},t.$inject=["$indexedDBProvider","MBPLogProvider"],t}();t.IndexedDB=i}(i=t.lib||(t.lib={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").provider("MBPIndexedDB",MyBestPro.lib.IndexedDB);var MyBestPro;!function(t){var i;!function(t){"use strict";var i=function(){function t(t){this.log=t,this.logPrefix="MBPNotificationPush: ",this.configurations={android:{senderID:"",icon:"",iconColor:"",sound:!0,vibrate:!0,clearNotifications:!0,forceShow:!1,topics:[]},ios:{senderID:"",alert:!1,badge:!1,sound:!1,clearBadge:!1,gcmSandbox:!1,topics:[],categories:{}},windows:{}},this.$get=["$window","$q","MBPLog",function(t,i){return{notification:null,configurations:this.configurations,init:function(){var o=i.defer();return"undefined"==typeof t.cordova?(o.reject("Environment not integrate cordova"),this.traceError("Environment not integrate cordova"),o.promise):(this.traceInfo("Initialize notification push"),this.traceDebug("Using configuration - ",this.configurations),this.notification=PushNotification.init(this.configurations),o.resolve(this),o.promise)},hasInitialized:function(){return null!==this.notification},hasPermission:function(){return this.hasInitialized()?this.notification.hasPermission():(this.traceError("You have not initialized notification push"),!1)},onRegistration:function(t){return this.on("registration",t),this},onError:function(t){return this.on("error",t),this},onNotification:function(t){return this.on("notification",t),this},on:function(t,i){return this.hasInitialized()?(this.notification.on(t,i),this):(this.traceError("You have not initialized notification push"),this)},off:function(t,i){return this.hasInitialized()?(this.notification.off(t,i),this):(this.traceError("You have not initialized notification push"),this)},unregister:function(t,i,o){return this.hasInitialized()?(this.notification.unregister(t,i,o),this):(this.traceError("You have not initialized notification push"),this)},setApplicationIconBadgenumber:function(t,i,o){return this.hasInitialized()?(this.notification.setApplicationIconBadgenumber(t,i,o),this):(this.traceError("You have not initialized notification push"),this)},getApplicationIconBadgenumber:function(t,i){return this.hasInitialized()?(this.notification.getApplicationIconBadgenumber(t,i),this):(this.traceError("You have not initialized notification push"),this)},finish:function(t,i){return this.hasInitialized()?(this.notification.finish(t,i),this):(this.traceError("You have not initialized notification push"),this)}}}]}return t.prototype.traceDebug=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.log.debug(this.logPrefix+t),arguments.length&&this.log.debug(arguments)},t.prototype.traceInfo=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.log.info(this.logPrefix+t),arguments.length&&this.log.info(arguments)},t.prototype.traceError=function(t){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];this.log.error(this.logPrefix+t),arguments.length&&this.log.error(arguments)},t.prototype.activateSound=function(){return this.activateAndroidSound().activateIosSound()},t.prototype.deactivateSound=function(){return this.deactivateAndroidSound().deactivateIosSound()},t.prototype.addTopic=function(t){return this.addAndroidTopic(t).addIosTopic(t)},t.prototype.setIosSenderID=function(t){return this.configurations.ios.senderID=t,this},t.prototype.activateIosAlert=function(){return this.configurations.ios.alert=!0,this},t.prototype.deactivateIosAlert=function(){return this.configurations.ios.alert=!1,this},t.prototype.activateIosBadge=function(){return this.configurations.ios.badge=!0,this},t.prototype.deactivateIosBadge=function(){return this.configurations.ios.badge=!1,this},t.prototype.activateIosSound=function(){return this.configurations.ios.sound=!0,this},t.prototype.deactivateIosSound=function(){return this.configurations.ios.sound=!1,this},t.prototype.activateIosClearBadge=function(){return this.configurations.ios.clearBadge=!0,this},t.prototype.deactivateIosClearBadge=function(){return this.configurations.ios.clearBadge=!1,this},t.prototype.activateIosGcmSandbox=function(){return this.configurations.ios.gcmSandbox=!0,this},t.prototype.deactivateIosGcmSandbox=function(){return this.configurations.ios.gcmSandbox=!1,this},t.prototype.addIosTopic=function(t){return this.configurations.ios.topics.push(t),this},t.prototype.setIosConfiguration=function(t){return this.configurations.ios=t,this},t.prototype.setAndroidId=function(t){return this.configurations.android.senderID=t,this},t.prototype.setAndroidIcon=function(t,i){return this.configurations.android.icon=t,this},t.prototype.activateAndroidSound=function(){return this.configurations.android.sound=!0,this},t.prototype.deactivateAndroidSound=function(){return this.configurations.android.sound=!1,this},t.prototype.activateAndroidVibrate=function(){return this.configurations.android.vibrate=!0,this},t.prototype.deactivateAndroidVibrate=function(){return this.configurations.android.vibrate=!1,this},t.prototype.activateAndroidClearNotification=function(){return this.configurations.android.clearNotifications=!0,this},t.prototype.deactivateAndroidClearNotification=function(){return this.configurations.android.forceShow=!1,this},t.prototype.activateAndroidForceShow=function(){return this.configurations.android.forceShow=!0,this},t.prototype.deactivateAndroidForceShow=function(){return this.configurations.android.forceShow=!1,this},t.prototype.addAndroidTopic=function(t){return this.configurations.android.topics.push(t),this},t.prototype.setAndroidConfiguration=function(t){return this.configurations.android=t,this},t.prototype.setWindowsConfiguration=function(t){return this.configurations.windows=t,this},t.prototype.setConfiguration=function(t){return this.configurations=t,this},t.$inject=["MBPLogProvider"],t}();t.NotificationPush=i}(i=t.lib||(t.lib={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").provider("MBPNotificationPush",MyBestPro.lib.NotificationPush);var MyBestPro;!function(t){var i;!function(t){"use strict";var i=function(){function t(t,i){this.$scope=t,this.log=i,this.$inject=["$scope","MBPLog"],t.displayMode=i.getDisplayMode(),t.messages=i.getHistory(),i.onReceivedLog(function(i,o){t.messages.push({level:i,data:JSON.stringify(o)})}),i.onChangeStatus(function(i){t.displayMode=i})}return t}();t.Log=i}(i=t.controller||(t.controller={}))}(MyBestPro||(MyBestPro={}));var MyBestPro;!function(t){var i;!function(i){"use strict";function o(){return{restrict:"E",scope:{},template:["<ul>",'<li ng-repeat="message in messages" ',' ng-show="displayMode" class="mbp-log-{{ message.level }}">','<strong ng-bind="message.level"></strong>'," {{ message.data }}</li>"].join(""),controller:t.controller.Log}}i.Log=o}(i=t.component||(t.component={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").directive("mbpLog",MyBestPro.component.Log);
//# sourceMappingURL=angular-mybestpro.min.js.map
