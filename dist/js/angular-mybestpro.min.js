angular.module("MyBestPro",["indexedDB"]);var MyBestPro;!function(t){var i;!function(t){var i=function(){function t(){this.LOG_INACTIVE=-1,this.LOG_ERROR=0,this.LOG_WARNING=1,this.LOG_INFO=2,this.LOG_LOG=3,this.LOG_DEBUG=4,this.level=3,this.displayMode=!0,this.messages=[],this.consoles={0:console.error,1:console.warn,2:console.info,3:console.log,4:console.debug},this.levels={0:"error",1:"warning",2:"info",3:"log",4:"debug"}}return t.prototype.$get=function(){return{LOG_INACTIVE:this.LOG_INACTIVE,LOG_ERROR:this.LOG_ERROR,LOG_WARNING:this.LOG_WARNING,LOG_INFO:this.LOG_INFO,LOG_LOG:this.LOG_LOG,LOG_DEBUG:this.LOG_DEBUG,level:this.level,levels:this.levels,consoles:this.consoles,messages:this.messages,callbackReceivedLog:this.callbackReceivedLog,callbackChangeStatus:this.callbackChangeStatus,debug:this.debug,info:this.info,error:this.error,warn:this.warn,log:this.log,time:this.time,timeEnd:this.timeEnd,message:this.message,displayMode:this.displayMode,setDisplayMode:this.setDisplayMode,onReceivedLog:this.onReceivedLog,onChangeStatus:this.onChangeStatus,getHistory:this.getHistory,getDisplayMode:this.getDisplayMode}},t.prototype.debug=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_DEBUG,arguments)},t.prototype.info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_INFO,arguments)},t.prototype.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_ERROR,arguments)},t.prototype.log=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_LOG,arguments)},t.prototype.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i-0]=arguments[i];this.message(this.LOG_WARNING,arguments)},t.prototype.setLevel=function(t){this.level=t},t.prototype.setDisplayMode=function(t){this.displayMode=t,this.callbackChangeStatus&&this.callbackChangeStatus.apply(this,[t])},t.prototype.getDisplayMode=function(){return this.displayMode},t.prototype.time=function(t,i){void 0===i&&(i=this.LOG_DEBUG),i>this.level||console.time(t)},t.prototype.timeEnd=function(t,i){void 0===i&&(i=this.LOG_DEBUG),i>this.level||console.timeEnd(t)},t.prototype.message=function(t,i){t>this.level||(this.messages.push({level:this.levels[t],data:i}),this.consoles[t].apply(console,i),this.callbackReceivedLog&&this.callbackReceivedLog.apply(this,[this.levels[t],i]))},t.prototype.onReceivedLog=function(t){this.callbackReceivedLog=t},t.prototype.onChangeStatus=function(t){this.callbackChangeStatus=t},t.prototype.getHistory=function(){return this.messages},t.$inject=[],t}();t.Log=i}(i=t.lib||(t.lib={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").provider("MBPLog",MyBestPro.lib.Log);var MyBestPro;!function(t){var i;!function(t){var i=function(){function t(t,i){this.$indexedDBProvider=t,this.MBPLogProvider=i,this.tables={},this.$get=["$indexedDB",function(t){return t}]}return t.prototype.addTable=function(t,i){return this.tables[t]=i,this.MBPLogProvider.debug("MBPIndexedDB: Add table "+t+" with configuration - ",i),this},t.prototype.setDB=function(t,i){return this.databaseName=t,this.databaseVersion=i,this.MBPLogProvider.debug("MBPIndexedDB: Set DB with "+t+" version "+i),this},t.prototype.initDatabase=function(){var t=this;t.$indexedDBProvider.connection(t.databaseName).upgradeDatabase(t.databaseVersion,function(i,o,e){t.MBPLogProvider.log("MBPIndexedDB: Start droping database "+t.databaseName+" ..."),t.MBPLogProvider.debug("MBPIndecedDB: Tables to drop - ",o.objectStoreNames),angular.forEach(o.objectStoreNames,function(i){t.MBPLogProvider.log("MBPIndexedDB: Delete table "+i),o.deleteObjectStore(i)}),t.MBPLogProvider.log("MBPIndexedDB: Start creating database "+t.databaseName+" ..."),t.MBPLogProvider.debug("MBPIndecedDB: Tables to generate - ",t.tables),angular.forEach(t.tables,function(i,e){t.MBPLogProvider.log("MBPIndexedDB: Start upgrading table "+e),t.MBPLogProvider.debug("MBPIndexedDB: Table configuration - ",i);var n=o.createObjectStore(e,{keyPath:i.keyPath});angular.forEach(i.columns,function(i,o){t.MBPLogProvider.log("MBPIndexedDB: Start indexing table column "+e+"."+o),t.MBPLogProvider.debug("MBPIndexedDB: Column indexing configuration - ",i),n.createIndex(o+"_idx",o,i)})})})},t.$inject=["$indexedDBProvider","MBPLogProvider"],t}();t.IndexedDB=i}(i=t.lib||(t.lib={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").provider("MBPIndexedDB",MyBestPro.lib.IndexedDB);var MyBestPro;!function(t){var i;!function(t){var i=function(){function t(t){this.MBPLogProvider=t,this.configurations={android:{senderID:"",icon:"",iconColor:"",sound:!0,vibrate:!0,clearNotifications:!0,forceShow:!1,topics:[]},ios:{senderID:"",alert:!1,badge:!1,sound:!1,clearBadge:!1,gcmSandbox:!1,topics:[],categories:{}},windows:{}},this.$get=["$window","$q","MBPLog",function(t,i,o){return{notification:null,configurations:this.configurations,init:function(){var e=i.defer();return"undefined"==typeof t.cordova?(e.reject("Environment not integrate cordova"),o.error("MBPNotificationPush: Environment not integrate cordova"),e.promise):(o.log("MBPNotificationPush: Initialize notification push"),o.debug("MBPNotificationPush: Using configuration - ",this.configurations),this.notification=PushNotification.init(this.configurations),e.resolve(this),e.promise)},hasInitialized:function(){return null!==this.notification},hasPermission:function(){return this.hasInitialized()?this.notification.hasPermission():(o.error("MBPNotificationPush: You have not initialized notification push"),!1)},onRegistration:function(t){return this.on("registration",t),this},onError:function(t){return this.on("error",t),this},onNotification:function(t){return this.on("notification",t),this},on:function(t,i){return this.hasInitialized()?(this.notification.on(t,i),this):(o.error("MBPNotificationPush: You have not initialized notification push"),this)},off:function(t,i){return this.hasInitialized()?(this.notification.off(t,i),this):(o.error("MBPNotificationPush: You have not initialized notification push"),this)},unregister:function(t,i,e){return this.hasInitialized()?(this.notification.unregister(t,i,e),this):(o.error("MBPNotificationPush: You have not initialized notification push"),this)},setApplicationIconBadgeNumber:function(t,i,e){return this.hasInitialized()?(this.notification.setApplicationIconBadgeNumber(t,i,e),this):(o.error("MBPNotificationPush: You have not initialized notification push"),this)},getApplicationIconBadgeNumber:function(t,i){return this.hasInitialized()?(this.notification.getApplicationIconBadgeNumber(t,i),this):(o.error("MBPNotificationPush: You have not initialized notification push"),this)},finish:function(t,i){return this.hasInitialized()?(this.notification.finish(t,i),this):(o.error("MBPNotificationPush: You have not initialized notification push"),this)}}}]}return t.prototype.activateSound=function(){return this.activateAndroidSound().activateIosSound()},t.prototype.deactivateSound=function(){return this.deactivateAndroidSound().deactivateIosSound()},t.prototype.addTopic=function(t){return this.addAndroidTopic(t).addIosTopic(t)},t.prototype.setIosSenderID=function(t){return this.configurations.ios.senderID=t,this},t.prototype.activateIosAlert=function(){return this.configurations.ios.alert=!0,this},t.prototype.deactivateIosAlert=function(){return this.configurations.ios.alert=!1,this},t.prototype.activateIosBadge=function(){return this.configurations.ios.badge=!0,this},t.prototype.deactivateIosBadge=function(){return this.configurations.ios.badge=!1,this},t.prototype.activateIosSound=function(){return this.configurations.ios.sound=!0,this},t.prototype.deactivateIosSound=function(){return this.configurations.ios.sound=!1,this},t.prototype.activateIosClearBadge=function(){return this.configurations.ios.clearBadge=!0,this},t.prototype.deactivateIosClearBadge=function(){return this.configurations.ios.clearBadge=!1,this},t.prototype.activateIosGcmSandbox=function(){return this.configurations.ios.gcmSandbox=!0,this},t.prototype.deactivateIosGcmSandbox=function(){return this.configurations.ios.gcmSandbox=!1,this},t.prototype.addIosTopic=function(t){return this.configurations.ios.topics.push(t),this},t.prototype.setIosConfiguration=function(t){return this.configurations.ios=t,this},t.prototype.setAndroidId=function(t){return this.configurations.android.senderID=t,this},t.prototype.setAndroidIcon=function(t,i){return this.configurations.android.icon=t,this},t.prototype.activateAndroidSound=function(){return this.configurations.android.sound=!0,this},t.prototype.deactivateAndroidSound=function(){return this.configurations.android.sound=!1,this},t.prototype.activateAndroidVibrate=function(){return this.configurations.android.vibrate=!0,this},t.prototype.deactivateAndroidVibrate=function(){return this.configurations.android.vibrate=!1,this},t.prototype.activateAndroidClearNotification=function(){return this.configurations.android.clearNotifications=!0,this},t.prototype.deactivateAndroidClearNotification=function(){return this.configurations.android.forceShow=!1,this},t.prototype.activateAndroidForceShow=function(){return this.configurations.android.forceShow=!0,this},t.prototype.deactivateAndroidForceShow=function(){return this.configurations.android.forceShow=!1,this},t.prototype.addAndroidTopic=function(t){return this.configurations.android.topics.push(t),this},t.prototype.setAndroidConfiguration=function(t){return this.configurations.android=t,this},t.prototype.setWindowsConfiguration=function(t){return this.configurations.windows=t,this},t.prototype.setConfiguration=function(t){return this.configurations=t,this},t.$inject=["MBPLogProvider"],t}();t.NotificationPush=i}(i=t.lib||(t.lib={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").provider("MBPNotificationPush",MyBestPro.lib.NotificationPush);var MyBestPro;!function(t){var i;!function(t){var i=function(){function t(t,i){this.$scope=t,this.MBPLog=i,this.$inject=["$scope","MBPLog"],t.displayMode=i.getDisplayMode(),t.messages=i.getHistory(),i.onReceivedLog(function(i,o){t.messages.push({level:i,data:JSON.stringify(o)})}),i.onChangeStatus(function(i){t.displayMode=i})}return t}();t.Log=i}(i=t.controller||(t.controller={}))}(MyBestPro||(MyBestPro={}));var MyBestPro;!function(t){var i;!function(i){function o(){return{restrict:"E",scope:{},template:'<ul><li ng-repeat="message in messages" ng-show="displayMode" class="mbp-log-{{ message.level }}"><strong ng-bind="message.level"></strong> {{ message.data }}</li>',controller:t.controller.Log}}i.Log=o}(i=t.component||(t.component={}))}(MyBestPro||(MyBestPro={})),angular.module("MyBestPro").directive("mbpLog",MyBestPro.component.Log);
//# sourceMappingURL=angular-mybestpro.min.js.map
